groups:
- neurodata_type_def: OpticalFiber
  neurodata_type_inc: Device
  name: fiber
  doc: Extends Device to hold metadata on the Optica Fiber.
  attributes:
  - name: model
    dtype: text
    doc: Model of optical fiber.
    required: false
  - name: numerical_aperture
    dtype: float
    doc: Numerical aperture, e.g., 0.39 NA.
    required: false
- neurodata_type_def: ExcitationSource
  neurodata_type_inc: Device
  name: excitation_source
  doc: Extends Device to hold metadata on the Excitation Source.
  attributes:
  - name: model
    dtype: text
    doc: Model of excitation source device.
    required: false
  - name: illumination_type
    dtype: text
    doc: Illumination type, e.g., laser ot LED.
  - name: excitation_wavelength_in_nm
    dtype: float
    doc: Excitation wavelength of the stimulation light (nanometers).
- neurodata_type_def: Photodetector
  neurodata_type_inc: Device
  name: excitation_source
  doc: Extends Device to hold metadata on the Excitation Source.
  attributes:
  - name: model
    dtype: text
    doc: Model of excitation source device.
    required: false
  - name: detector_type
    dtype: text
    doc: Technology used to detect the light, e.g., PMT or photodiode.
  - name: detected_wavelength_in_nm
    dtype: float
    doc: Wavelength detected by photodetector.
  - name: gain
    dtype: float
    doc: Gain on the photodetector.
- neurodata_type_def: DichroicMirror
  neurodata_type_inc: Device
  doc: Extends Device to hold a Dichroic Mirror.
  attributes:
  - name: cut_on_wavelength_in_nm
    dtype: float
    doc: Wavelength at which the mirror starts to transmit light more than reflect.
  - name: cut_off_wavelength_in_nm
    dtype: float
    doc: Wavelength at which transmission shifts back to reflection, for mirrors with
      complex transmission spectra.
    required: false
  - name: reflection_bandwidth_in_nm
    dtype: float
    shape:
    - 2
    doc: The range of wavelengths that are primarily reflected. The start and end
      wavelengths needs to be specified.
    required: false
  - name: transmission_bandwidth_in_nm
    dtype: float
    shape:
    - 2
    doc: The range of wavelengths that are primarily transmitted. The start and end
      wavelengths needs to be specified.
    required: false
  - name: angle_of_incidence_in_degrees
    dtype: float
    doc: Intended angle at which light strikes the mirror.
    required: false
  - name: model
    dtype: text
    doc: Model of the dichroic mirror.
    required: false
- neurodata_type_def: OpticalFilter
  neurodata_type_inc: Device
  doc: Extends Device to hold a Optical Filter.
  attributes:
  - name: peak_wavelength_in_nm
    dtype: float
    doc: Wavelength that the filter is designed to pass or reflect.
  - name: bandwidth_in_nm
    dtype: float
    doc: Width of the wavelength range that the filter allows to pass through or blocks.
  - name: filter_type
    dtype: text
    doc: Type of filter (e.g., 'Excitation', 'Emission', 'Bandpass', 'Longpass', 'Shortpass').
  - name: model
    dtype: text
    doc: Model of the optical filter.
    required: false
- neurodata_type_def: FiberPhotometryTable
  neurodata_type_inc: DynamicTable
  name: fiber_photometry_table
  doc: Extends DynamicTable to hold metadata on the Fiber Photometry system.
  datasets:
  - name: location
    neurodata_type_inc: VectorData
    dtype: text
    shape:
    - null
    doc: Location of fiber.
  - name: coordinates
    neurodata_type_inc: VectorData
    dtype: float
    shape:
    - null
    - 3
    doc: Fiber placement in stereotactic coordinates (AP, ML, DV) mm relative to Bregma.
    quantity: '?'
  - name: indicator
    neurodata_type_inc: VectorData
    dtype: text
    shape:
    - null
    doc: Indicator notation.
  - name: notes
    neurodata_type_inc: VectorData
    dtype: text
    shape:
    - null
    doc: Description of system.
    quantity: '?'
  - name: fiber
    neurodata_type_inc: VectorData
    dtype:
      target_type: Device
      reftype: object
    shape:
    - null
    doc: Link to the fiber device.
  - name: excitation_source
    neurodata_type_inc: VectorData
    dtype:
      target_type: Device
      reftype: object
    shape:
    - null
    doc: Link to the excitation source device.
  - name: photodetector
    neurodata_type_inc: VectorData
    dtype:
      target_type: Device
      reftype: object
    shape:
    - null
    doc: Link to the photodetector device.
  - name: dichroic_mirror
    neurodata_type_inc: VectorData
    dtype:
      target_type: Device
      reftype: object
    shape:
    - null
    doc: Link to the dichroic mirror device.
- neurodata_type_def: FiberPhotometryResponseSeries
  neurodata_type_inc: TimeSeries
  doc: Extends TimeSeries to hold Fiber Photometry data.
  datasets:
  - name: data
    shape:
    - null
    - null
    doc: The data values. May be 1D or 2D. The first dimension must be time. The optional
      second dimension referes to the fiber that record the series.
  - name: fiber_photometry_table
    neurodata_type_inc: DynamicTableRegion
    doc: References row(s) of FiberPhotometryTable.
    quantity: '?'
